version: '2'
services:
  rabbitmq:
    image: rabbitmq
    environment:
      - RABBITMQ_DEFAULT_USER=rabbitmq
      - RABBITMQ_DEFAULT_PASS=rabbitmq
  mongo:
    image: mongo
  bank:
    image: lagos/dtupay-bank:local
    environment:
      - BROKER_HOST_NAME=rabbitmq
      - BROKER_HOST_USERNAME=rabbitmq
      - BROKER_HOST_PASSWORD=rabbitmq
  token:
    image: lagos/dtupay-token:local
    environment:
      - BROKER_HOST_NAME=rabbitmq
      - BROKER_HOST_USERNAME=rabbitmq
      - BROKER_HOST_PASSWORD=rabbitmq
      - MONGO_HOST_NAME=mongo
  api-customer:
    image: lagos/dtupay-api-customer:local
    environment:
      - BROKER_HOST_NAME=rabbitmq
      - BROKER_HOST_USERNAME=rabbitmq
      - BROKER_HOST_PASSWORD=rabbitmq
  api-merchant:
    image: lagos/dtupay-api-merchant:local
    environment:
      - BROKER_HOST_NAME=rabbitmq
      - BROKER_HOST_USERNAME=rabbitmq
      - BROKER_HOST_PASSWORD=rabbitmq
  api-manager:
    image: lagos/dtupay-api-manager:local
    environment:
      - BROKER_HOST_NAME=rabbitmq
      - BROKER_HOST_USERNAME=rabbitmq
      - BROKER_HOST_PASSWORD=rabbitmq